<div class="tablewrapper">
	<h1 class="title">Lista de todos los trabajadores</h1>
	<table aria-label="Listado de todos los trabajadores existentes" class="table table-hover">
		<thead>
			<tr>
				<th scope="col">DNI </th>
				<th scope="col">NOMBRE </th>
				<th scope="col">APELLIDOS </th>
				<th scope="col">ÁREA </th>
				<th scope="col">UNIDAD </th>
				<th scope="col">DEPARTAMENTO </th>
				<th scope="col" style="max-width: 1rem">
					<button class="btn btn-primary" (click)="newEmptyWorker()">
						<span class="material-icons" title="Añadir trabajador"> add </span>
					</button>
				</th>
			</tr>
		</thead>

		<tbody>
			<p *ngIf="listaTraba.length == 0">No hay trabajadores.</p>
			<tr *ngFor="let trab of listaTraba">
				<td>
					<input type="text" class="form-control" [(ngModel)]="trab.dni" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="trab.nombre" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="trab.apellidos" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="trab.area" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="trab.unidad" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="trab.departamento" />
				</td>
				<td>
					<div class="btn btn-danger" (click)="deleteWorkerToAdd(trab)">
						<span class="material-icons">
							delete
						</span>
					</div>

					<div class="btn btn-success" (click)="persistWorker(trab)" *ngIf="trab.dni !== ''">
						<span class="material-icons"> add </span>
					</div>
			</td>
		</tr>

		<label *ngFor="let trab of trabajadores">dni
			<option value={{ trab.dni }}>{{ trab.dni }}</option>
			<td *ngIf="!trab.editing">{{ trab.dni }}</td>
			<td *ngIf="trab.editing">
				<input type="text" class="form-control" [(ngModel)]="trab.dni" />
			</td>


			<td>
				<div *ngIf="canDelete(trab)" class="btn btn-danger" (click)="deleteWorker(trab)">
					<span class="material-icons" > delete </span>
				</div>
				<div class="btn btn-success" (click)="editingWorker()" >
					<span class="material-icons" > edit </span>
				</div>
				<div class="btn btn-primary" (click)="editingWorker()">
					<span class="material-icons"> done </span>
				</div>
			</td>
		</label>
	</tbody>
</table>
</div>
